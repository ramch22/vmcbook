<!DOCTYPE html>
<html>

<head>
  <title>VMware Cloud Knowledge</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="VMware Cloud articles and guides.">
  <meta name="generator" content="Hugo 0.60.0-DEV" />
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" href="https://dspinhirne.github.io/vmcbook/main.css">
  <script type="text/javascript" src="https://dspinhirne.github.io/vmcbook/main.js"></script>
</head>

  <body>
    
    <header class="main-header">
      <div>
        <a href="https://cloud.vmware.com"><img src="https://dspinhirne.github.io/vmcbook/images/vm.svg"></a>
      </div>
      <div><a href="https://dspinhirne.github.io/vmcbook/">VMware Cloud Knowledge</a></div>
      <div>
        <a href="https://github.com/dspinhirne/vmcbook" class="github-link"><img src="https://dspinhirne.github.io/vmcbook/images/github.svg"><span>Star</span></a>
      </div>
    </header>

    <article class="main-article">
      <nav class="left-nav">
        <ul class="top-level"><li >
        <span onclick="leftNavClick(this)">Getting Started</span><ul class="sub-level">
        <li><a href="/vmcbook/guides/getting-started/" >Index</a></li>
        <li ><a href="/vmcbook/guides/getting-started/introduction/" >Introduction</a></li><li >
        <span onclick="leftNavClick(this)">HowTo</span><ul class="sub-level indent">
        <li><a href="/vmcbook/guides/getting-started/howto/" >Index</a></li>
        <li ><a href="/vmcbook/guides/getting-started/howto/activate-services/" >Activate Services</a></li><li ><a href="/vmcbook/guides/getting-started/howto/billing/" >Billing</a></li><li ><a href="/vmcbook/guides/getting-started/howto/manage-users/" >Manage Users</a></li>
      </ul></li>
      </ul></li><li >
        <span onclick="leftNavClick(this)">HCX</span><ul class="sub-level">
        <li><a href="/vmcbook/guides/hcx/" >Index</a></li>
        <li >
        <span onclick="leftNavClick(this)">A Technical Overview</span><ul class="sub-level indent">
        <li><a href="/vmcbook/guides/hcx/a-technical-overview/" >Index</a></li>
        <li ><a href="/vmcbook/guides/hcx/a-technical-overview/introduction/" >Introduction</a></li><li ><a href="/vmcbook/guides/hcx/a-technical-overview/planning/" >Planning</a></li><li ><a href="/vmcbook/guides/hcx/a-technical-overview/preparation/" >Preparation</a></li><li ><a href="/vmcbook/guides/hcx/a-technical-overview/testing/" >Testing</a></li><li ><a href="/vmcbook/guides/hcx/a-technical-overview/migration/" >Migration</a></li>
      </ul></li><li >
        <span onclick="leftNavClick(this)">HowTo</span><ul class="sub-level indent">
        <li><a href="/vmcbook/guides/hcx/howto/" >Index</a></li>
        <li ><a href="/vmcbook/guides/hcx/howto/activate/" >Activate</a></li><li ><a href="/vmcbook/guides/hcx/howto/install/" >Install</a></li><li ><a href="/vmcbook/guides/hcx/howto/network-extension/" >Network Extension</a></li><li ><a href="/vmcbook/guides/hcx/howto/workload-migration/" >Workload Migration</a></li>
      </ul></li>
      </ul></li><li class="open parent">
        <span onclick="leftNavClick(this)">VMware Cloud on AWS</span><ul class="sub-level">
        <li><a href="/vmcbook/guides/vmc-aws/" >Index</a></li>
        <li ><a href="/vmcbook/guides/vmc-aws/a-technical-overview/" >A Technical Overview</a></li><li class="open parent">
        <span onclick="leftNavClick(this)">On-Boarding</span><ul class="sub-level indent">
        <li><a href="/vmcbook/guides/vmc-aws/on-boarding/" >Index</a></li>
        <li ><a href="/vmcbook/guides/vmc-aws/on-boarding/introduction/" >Introduction</a></li><li class="open parent"><a href="/vmcbook/guides/vmc-aws/on-boarding/requirements/" class="active">Requirements</a></li><li >
        <span onclick="leftNavClick(this)">HowTo</span><ul class="sub-level indent">
        <li><a href="/vmcbook/guides/vmc-aws/on-boarding/howto/" >Index</a></li>
        <li ><a href="/vmcbook/guides/vmc-aws/on-boarding/howto/term-subscription/" >Term Subscription</a></li><li ><a href="/vmcbook/guides/vmc-aws/on-boarding/howto/sddc/" >SDDC</a></li>
      </ul></li>
      </ul></li><li >
        <span onclick="leftNavClick(this)">Networking</span><ul class="sub-level indent">
        <li><a href="/vmcbook/guides/vmc-aws/networking/" >Index</a></li>
        <li ><a href="/vmcbook/guides/vmc-aws/networking/sddc-architecture/" >SDDC Architecture</a></li><li >
        <span onclick="leftNavClick(this)">IPSec VPN</span><ul class="sub-level indent">
        <li><a href="/vmcbook/guides/vmc-aws/networking/ipsec-vpn/" >Index</a></li>
        <li ><a href="/vmcbook/guides/vmc-aws/networking/ipsec-vpn/concepts/" >Concepts</a></li><li >
        <span onclick="leftNavClick(this)">Howto</span><ul class="sub-level indent">
        <li><a href="/vmcbook/guides/vmc-aws/networking/ipsec-vpn/howto/" >Index</a></li>
        <li ><a href="/vmcbook/guides/vmc-aws/networking/ipsec-vpn/howto/configure/" >Configure</a></li><li ><a href="/vmcbook/guides/vmc-aws/networking/ipsec-vpn/howto/troubleshoot/" >Troubleshoot</a></li><li ><a href="/vmcbook/guides/vmc-aws/networking/ipsec-vpn/howto/sample-configs/" >Sample Configs</a></li>
      </ul></li>
      </ul></li><li >
        <span onclick="leftNavClick(this)">Direct Connect</span><ul class="sub-level indent">
        <li><a href="/vmcbook/guides/vmc-aws/networking/direct-connect/" >Index</a></li>
        <li ><a href="/vmcbook/guides/vmc-aws/networking/direct-connect/concepts/" >Concepts</a></li><li >
        <span onclick="leftNavClick(this)">HowTo</span><ul class="sub-level indent">
        <li><a href="/vmcbook/guides/vmc-aws/networking/direct-connect/howto/" >Index</a></li>
        <li ><a href="/vmcbook/guides/vmc-aws/networking/direct-connect/howto/configure/" >Configure</a></li>
      </ul></li>
      </ul></li><li >
        <span onclick="leftNavClick(this)">HowTo</span><ul class="sub-level indent">
        <li><a href="/vmcbook/guides/vmc-aws/networking/howto/" >Index</a></li>
        <li ><a href="/vmcbook/guides/vmc-aws/networking/howto/network-segments/" >Network Segments</a></li>
      </ul></li>
      </ul></li><li >
        <span onclick="leftNavClick(this)">Network Security</span><ul class="sub-level indent">
        <li><a href="/vmcbook/guides/vmc-aws/network-security/" >Index</a></li>
        <li ><a href="/vmcbook/guides/vmc-aws/network-security/concepts/" >Concepts</a></li><li >
        <span onclick="leftNavClick(this)">HowTo</span><ul class="sub-level indent">
        <li><a href="/vmcbook/guides/vmc-aws/network-security/howto/" >Index</a></li>
        <li ><a href="/vmcbook/guides/vmc-aws/network-security/howto/services/" >Services</a></li><li ><a href="/vmcbook/guides/vmc-aws/network-security/howto/groups/" >Groups</a></li><li ><a href="/vmcbook/guides/vmc-aws/network-security/howto/gateway-firewall/" >Gateway Firewall</a></li><li ><a href="/vmcbook/guides/vmc-aws/network-security/howto/dfw/" >DFW</a></li><li ><a href="/vmcbook/guides/vmc-aws/network-security/howto/nat/" >NAT</a></li>
      </ul></li>
      </ul></li><li >
        <span onclick="leftNavClick(this)">Validated Designs</span><ul class="sub-level indent">
        <li><a href="/vmcbook/guides/vmc-aws/validated-designs/" >Index</a></li>
        <li >
        <span onclick="leftNavClick(this)">Network</span><ul class="sub-level indent">
        <li><a href="/vmcbook/guides/vmc-aws/validated-designs/network/" >Index</a></li>
        <li ><a href="/vmcbook/guides/vmc-aws/validated-designs/network/hub-and-spoke-designs/" >Hub-and-Spoke Designs</a></li><li ><a href="/vmcbook/guides/vmc-aws/validated-designs/network/transit-gateway/" >Transit Gateway</a></li>
      </ul></li>
      </ul></li>
      </ul></li><li >
        <span onclick="leftNavClick(this)">Site</span><ul class="sub-level">
        <li><a href="/vmcbook/site/" >Index</a></li>
        <li ><a href="/vmcbook/site/authors/" >Authors</a></li><li ><a href="/vmcbook/site/authoring-guide/" >Authoring Guide</a></li><li ><a href="/vmcbook/site/information/" >Information</a></li><li ><a href="/vmcbook/site/links/" >Links</a></li><li ><a href="/vmcbook/site/editor/" >Markdown Editor</a></li><li ><a href="/vmcbook/site/resources/" >Resources</a></li>
      </ul></li></ul>
      </nav>

      <main class="main-content">  <div class="TableOfContents">
    <h1>Page Contents</h1>
    <nav id="TableOfContents">
<ul>
<li><a href="#personnel-required-for-on-boarding">Personnel Required for On-Boarding</a></li>
<li><a href="#customer-owned-aws-account">Customer-Owned AWS Account</a></li>
<li><a href="#region-vpc-and-subnet-selection">Region, VPC, and Subnet Selection</a></li>
<li><a href="#ip-and-dns-planning">IP and DNS Planning</a></li>
<li><a href="#planning-connectivity-to-the-sddc">Planning Connectivity to the SDDC</a></li>
<li><a href="#develop-network-security-policy">Develop Network Security Policy</a></li>
<li><a href="#security-audit">Security Audit</a></li>
</ul>
</nav>
  </div>

  
  <article class="content with-toc">
    <header class="content-header">
      <strong class="heading">On-Boarding</strong><strong class="sub-heading">Requirements</strong></header>

    

<h1 id="personnel-required-for-on-boarding">Personnel Required for On-Boarding</h1>

<p>A critical first step in the planning process is to identify personnel (both technical and non-technical) who will be involved in the initial on-boarding process as well as those personnel who will be involved in the actual deployment of an SDDC. The following is a list of common &ldquo;roles&rdquo; required to activate the service and deploy an SDDC. Note that a single person may encompass more than one role.</p>

<ul>
<li>Fund Owner - Required to provide funding for VMware Cloud services and initiate the activation process. The Fund Owner must have an account on my.vmware.com, and all required fields of the account profile must be filled in. Especially important is the email address of this user since this email address will be used as the recipient of the activation email.</li>
<li>Fund User - An additional user created by the Fund Owner who has access to billing information.</li>
<li>AWS admin - Required to ensure that at least 1 user is created with the permissions necessary to run the CloudFormation template used for account linking. Account linking is performed when you deploy the first SDDC.</li>
<li>Cloud admin - Performs all planning for the deployment of the SDDC. Performs the deployment of the SDDC. Performs the initial account linking to the AWS account.</li>
<li>Network admin - Allocates IP ranges needed for the deployment of the SDDC. Plans and implements connectivity from the on-premises environment to the SDDC.</li>
<li>Security admin - Reviews and approves security policy for the SDDC.</li>
</ul>

<h1 id="customer-owned-aws-account">Customer-Owned AWS Account</h1>

<p>One of the requirements of the VMware Cloud On AWS service is that all deployed SDDCs be linked to a customer&rsquo;s AWS account. If there is a preexisting account then it may be used for this linking; however, if there is no account in place then one must be created prior to on-boarding.</p>

<p>Once an AWS account has been identified, then the next step is to ensure that all technical personnel have been added to the account and that they have been configured with the permissions necessary to properly manage the account. At minimum, there must be one user within the AWS account who has sufficient permissions to execute the CloudFormation template which performs account linking to the VMC ORG. The details of account linking are discussed in the chapter A Technical Overview.</p>

<h1 id="region-vpc-and-subnet-selection">Region, VPC, and Subnet Selection</h1>

<p>Each SDDC will be deployed within a specific AWS region. Within this region, a VPC and Subnet are required in order to facilitate cross-linking to the SDDC. Here are some things to consider when selecting these resources:</p>

<ul>
<li>The choice of subnet will determine the Availability Zone (AZ) in which the SDDC will be deployed. The base cluster of the SDDC will be deployed within the same AZ as this subnet.</li>
<li>As part of the SDDC deployment, a series of Cross-Account ENIs will be created for use by the hosts of the SDDC. It is recommended that a dedicated subnet be chosen to facilitate the account linking and that the subnet be large enough to facilitate 1 IP address for every current (and future) host of the SDDC. Typically, a dedicated /26 is recommended.</li>
<li>The Cross-Account ENIs exist within the customer-owned AWS account, and the customer has full access to apply security groups to them or to delete them outright. These actions can permanently undermine connectivity between the AWS environment and the SDDC.</li>
<li>Traffic between the SDDC and the AWS environment will not be billable if the traffic stays within the same AZ; cross-AZ traffic will be billable to the customer-owned AWS account. This is per the normal <a href="https://aws.amazon.com/govcloud-us/pricing/data-transfer/">billing policies</a> of AWS.</li>
</ul>

<h1 id="ip-and-dns-planning">IP and DNS Planning</h1>

<p>An SDDC does not exist in isolation; at minimum it will be integrated with resources within AWS, but it will very likely also integrate with an on-premises environment. In some ways you can think of each SDDC you create as if it were just another remote facility. In that sense you should think about IP address management just as you would with any other traditional data center.</p>

<p>As part of the SDDC deployment process you are required to specify an IP range which will be used for the Management Network of the SDDC. The choice of address space is extremely important since it cannot be changed without destroying the entire SDDC and rebuilding it from scratch. Here are some considerations when deciding upon the address space to use:</p>

<ul>
<li>Size - The range needs to be large enough to facilitate all hosts which will be deployed on day 1, but also must account for future growth. See the User Guide for more information on sizing for the management subnet.</li>
<li>Uniqueness - You should ideally provision an IP range which is unique within your organization. This is particularly important if you will be connecting to your SDDC via a VPN or Direct Connect, or if you are cross-linking to a production VPC.</li>
<li>Ability to summarize - Ideally this block should be a subnet of some larger space which is allocated to the SDDC as a whole. By subnetting a larger dedicated supernet you will gain the ability to simplify routing between your on-premises environment and the SDDC, and you will potentially simplify network security policies used to secure the SDDC.</li>
</ul>

<p>Another important aspect to consider are DNS services within the SDDC. By default, the SDDC is configured to used public DNS severs. These settings may be changed, however. Here are a few key considerations for planning DNS services for the SDDC:</p>

<ul>
<li>The DNS servers must be reachable; either via public IPs or via the cross-linked VPC or IPSec/DirectConnect to the on-premise environment. DNS servers may also be deployed within the SDDC itself.</li>
<li>The DNS servers must support recursive queries.</li>
<li>The SDDC is pre-configured to internally resolve hosts within the vmc.local domain. All other domains require an external DNS server.</li>
<li>Network segments within the Compute Network which have DHCP enabled will use the DNS servers configured on the SDDC.</li>
</ul>

<p>See the section on <a href="https://dspinhirne.github.io/vmcbook/guides/vmc-aws/a-technical-overview/#ip-administration">IP administration</a> within the Technical Overview for a sample IP administration plan.</p>

<h1 id="planning-connectivity-to-the-sddc">Planning Connectivity to the SDDC</h1>

<p>You may think of each SDDC as an independent island which is isolated from the world. As such, one of the first post-deployment tasks you should undertake is to establish external connectivity to the SDDC.  There are a few strategies for connecting to an SDDC, and prior to deploying an SDDC you will need to decide upon one of these strategies and coordinate any internal resources required to implement that strategy.</p>

<p>Some examples of possible internal resources required per strategy are as follows:</p>

<ul>
<li>Direct Access via public vCenter public IP - May require review by a security administrator or may require a security administrator to permit access through on-premises firewalls.</li>
<li>IPSec VPN - Will require a network or security administrator to configure the IPSec VPN and configure routing through the VPN.  See this <a href="https://dspinhirne.github.io/vmcbook/guides/vmc-aws/networking/ipsec-vpn/concepts/#project-plan">project plan</a> for more.</li>
<li>Direct Connect - Will require an AWS admin to provision Direct Connect <a href="https://docs.aws.amazon.com/directconnect/latest/UserGuide/WorkingWithVirtualInterfaces.html">Private VIF</a>. May require a network administrator to configure routing on the on-premises network. See this <a href="https://dspinhirne.github.io/vmcbook/guides/vmc-aws/networking/direct-connect/concepts/#project-plan">project plan</a> for more.</li>
</ul>

<h1 id="develop-network-security-policy">Develop Network Security Policy</h1>

<p>By default, the gateway firewalls of the SDDC are configured to deny all traffic. Firewall rules must be specifically created to permit access. This includes both traffic to and from the public internet as well as traffic between the cross-linked VPC and any VPNs or Direct Connects which have been configured. Due to the locked-down nature of the SDDC, an important part of the planning process is to determine a basic security policy for use within the SDDC.</p>

<p>Here are some things to consider:</p>

<ul>
<li>Determine who within your organization is required to review and approve security policy decisions.</li>
<li>Determine how the SDDC will be accessed remotely, from where, and what source/destination IP addresses and TCP/UDP ports are required to facilitate the connectivity.</li>
<li>Determine what services will be accessed within the on-premises and AWS environments from workloads within the SDDC.</li>
<li>Understand that the gateway firewalls filter traffic in both directions. This means that security policy must be explicitly defined for inbound requests as well as for outbound requests initiated from the SDDC.</li>
</ul>

<h1 id="security-audit">Security Audit</h1>

<p>Due to the fact that VMware Cloud requires certain permissions within the customer-owned AWS account, it may be required that a security audit be performed by the customer prior to on-boarding. Most typically, security auditors want to review the <a href="https://docs.vmware.com/en/VMware-Cloud-on-AWS/services/com.vmware.vmc-aws-operations/GUID-DE8E80A3-5EED-474C-AECD-D30534926615.html">CloudFormation template</a> used by VMware Cloud.</p>
    
    <footer class="content-footer"><div>Written by<a href='https://dspinhirne.github.io/vmcbook/site/authors/#dustin-spinhirne'>Dustin Spinhirne</a></div><div>
          Originally publishedMonday, Aug 27, 2018.Updated onTuesday, Oct 1, 2019.</div></footer>

  </article></main>
    </article>
    
  </body>
</html>
